---
// Feature Card
// ------------
// Entire card is clickable to open the signup modal, plus a visible “Learn more”
// button at the bottom that triggers the same modal.
//
// Notes:
// - Uses a full-card invisible <button data-modal="signup"> overlay for clicks.
// - Keeps the bottom Button for UX clarity.
// - No titleSize prop (avoids previous type mismatch).

import Card from './BasicCard.astro'
import Button from '../Button.astro'

type Props = {
  title?: string
  subtitle?: string
  image?: any
  link?: string
}

const { title, subtitle, image, link } = Astro.props
---

<!-- Relative wrapper so the invisible overlay can cover the card -->
<div class="relative h-full w-full">
  <!-- Invisible full-card click target to open modal -->
  <button
    type="button"
    data-modal="signup"
    aria-label={`Open sign up modal for ${title ?? 'this feature'}`}
    class="absolute inset-0 z-10 bg-transparent cursor-pointer"
  ></button>

  <!-- The visual card -->
  <div class="flex h-full w-full">
    <div class="flex flex-col h-full w-full">
      <Card
        title={title}
        subtitle={subtitle}
        link={link}               <!-- optional, not used for modal -->
        image={image}
        type="image-bottom"
        classes="!bg-neutral-50 !shadow-none dark:!bg-neutral-900 h-full flex flex-col justify-between border border-neutral-100 dark:border-neutral-800"
      >
        <!-- Bottom action area (kept above overlay for direct clicks) -->
        <div class="mt-1 mb-2 flex justify-center relative z-20">
          <Button modal="signup" style="primary" size="sm" classes="!py-1.5 !px-3">
            Learn more
          </Button>
        </div>
      </Card>
    </div>
  </div>
</div>